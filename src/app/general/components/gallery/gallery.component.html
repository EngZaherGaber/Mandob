<div class="container-fluid border-0">
    <div class="row">
        <p-fileupload #fu accept="image/*" name="myfile[]" [multiple]="false" maxFileSize="1000000"
            (onSelect)="onSelect($event)" class="p-0">
            <ng-template class="p-0" #header let-files let-chooseCallback="chooseCallback"
                let-clearCallback="clearCallback" let-uploadCallback="uploadCallback">
                <div class="container-fluid g-0 p-0">
                    <div class="row">
                        <div class="d-flex gap-2">
                            <p-button (onClick)="chooseCallbackN($event, chooseCallback)" icon="pi pi-images" />
                            <p-button (onClick)="handleFileUpload()" icon="pi pi-cloud-upload" severity="success"
                                [disabled]="!files || files.length === 0" />
                            <p-button (onClick)="clearCallbackN(clearCallback)" icon="pi pi-times" severity="danger"
                                [disabled]="!files || files.length === 0" />
                        </div>
                    </div>

                </div>
            </ng-template>

            <ng-template #empty>
                <div class="d-flex flex-column align-items-center border border-2 rounded-4 p-4">
                    <i class="pi pi-cloud-upload" style="font-size: 50px !important;"></i>
                    <p class="mt-6 mb-0">Drag and drop files to here to upload.</p>
                </div>
            </ng-template>
        </p-fileupload>
        <div class="d-flex flex-wrap border border-2 rounded-4 gap-2 p-2">
            <div class="position-relative border border-1 rounded-4" style="width: calc(20% - 0.5rem);height: 200px;"
                *ngFor="let img of images">
                <img [src]="img.imageUrl" class="w-100 h-100 rounded-4" [alt]="'image-of-'+userState.user?.name">
                <div class="position-absolute end-0 bottom-0 w-100 d-flex gap-2 px-2 rounded-4 py-1">

                    <p-button size="small" pTooltip="الرئيسية" (onClick)="setMain(img.imageId)"
                        icon="pi pi-key"></p-button>
                    <p-button size="small" pTooltip="احذف" icon="pi pi-trash" severity="danger"
                        (onClick)="deleteImage(img.imageId)"></p-button>
                </div>
            </div>

        </div>
    </div>
</div>
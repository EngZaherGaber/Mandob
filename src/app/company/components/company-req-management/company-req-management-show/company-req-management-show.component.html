<dynamic-table [lazyLoading]="true" [dataKey]="'requestID'" (onLazy)="tableConfig.getSub$.next($event)"
    [load]="tableConfig.get$" [buttons]="tableConfig.Buttons" [getSeverity]="getSeverity" [showHeader]="true"
    [captionButton]="tableConfig.captionButton"></dynamic-table>
@if(assignDistributorVisible){
<p-dialog header="اسناد الطلبية لموزع" [modal]="true" [(visible)]="assignDistributorVisible"
    [style]="{ width: '25rem' }">
    <div class="d-flex flex-column gap-5 w-100" [formGroup]="assignForm">
        <p-floatlabel class="w-full md:w-56" variant="over">
            <label for="distributor-assign">اسم الموزع</label>
            <p-select formControlName="distributorId" [ngStyle]="{'height':'35px'}" #drop id="distributor-assign"
                (onChange)="drop.resetFilter()" [appendTo]="'body'" [options]="distributors" [filter]="true"
                optionLabel="name" optionValue="userId" [showClear]="true" [checkmark]="true"></p-select>
        </p-floatlabel>
        <p-floatlabel class="w-full md:w-56" variant="over">
            <label for="expectedDeliveryDate">التاريخ المتوقع للتوصيل</label>
            <p-inputNumber id="expectedDeliveryDate" [step]="1" [min]="1" [showButtons]="true" #days
                formControlName="expectedDeliveryDate"></p-inputNumber>
        </p-floatlabel>
        <p-button label="حفظ" icon="pi pi-check" severity="success" (onClick)="assignDistributor()"></p-button>
    </div>

</p-dialog>
}
@if(itemsVisible){
<p-dialog header="المنتجات" [modal]="true" [(visible)]="itemsVisible" [style]="{ width: '60rem' }"
    (visibleChange)="clostReturnDialog($event)">
    <product-general-items [source]="items()"></product-general-items>
</p-dialog>
}
@if(usersVisible){
<p-dialog header="المستخدمين" [modal]="true" [(visible)]="usersVisible" [style]="{ width: '60rem' }"
    (visibleChange)="clostReturnDialog($event)">
    <users-general-items [client]="selectedRequest()?.client ?? null"
        [distributor]="selectedRequest()?.distributor ?? null"></users-general-items>
</p-dialog>
}
@if(reviewVisible && selectedRequest()?.reviews){
<p-dialog header="التقييم" [modal]="true" [(visible)]="reviewVisible" [style]="{ width: '60rem' }"
    (visibleChange)="clostReturnDialog($event)">
    <review-detail [reviewDetails]="selectedRequest()?.reviews ?? null"></review-detail>
</p-dialog>
}